var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,c,b){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var f=a[e];if(c.call(b,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,b){a!=Array.prototype&&a!=Object.prototype&&(a[c]=b.value)};$jscomp.getGlobal=function(a){a=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,a];for(var c=0;c<a.length;++c){var b=a[c];if(b&&b.Math==Math)return b}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,c,b,d){if(c){b=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in b||(b[e]={});b=b[e]}a=a[a.length-1];d=b[a];c=c(d);c!=d&&null!=c&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:c})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,b){return $jscomp.findInternal(this,a,b).v}},"es6","es3");
$(function(){$("#tabs").tabs();$("#tabs ul").removeClass("ui-corner-all").addClass("ui-corner-top");$(document).one("click",'a[href="#tabs-frag-2"]',function(){$("#tabs-frag-2").empty().load($("#website_url").val()+"backend/backend_content/loadwidgetmaker/")});$(document).on("click","a.ui-tabs-anchor",function(){$(this).find("#products, #news").length?($(".above-editor-links").removeClass("grid_8").addClass("grid_4"),$("#tabs").removeClass("grid_4").addClass("grid_8"),$(".mce-toolbar-grp").hide()):
($(".mce-toolbar-grp").show(),$(".above-editor-links").removeClass("grid_4").addClass("grid_8"),$("#tabs").removeClass("grid_8").addClass("grid_4"))});$(document).on("click",'[aria-label="Fullscreen"]',function(){$(window.parent.document).find('[aria-describedby="toasterPopupDraggable"]').toggleClass("screen-expand");var b=$("#tabs"),a=b.height(),e=b.find(".ui-tabs-nav").height(),c=b.find("#adminthingsviewer .ui-accordion-header"),g=c.length;c=c.outerHeight();var h=b.find("#adminselectimgfolder").outerHeight(),
k=b.find("#btn-create").outerHeight(),l=b.find("#widgetSync").outerHeight()+5;b.find("#adminthingsviewer .ui-accordion-content").css({"max-height":a-e-(c+2)*g-h-30});b.find("#product-products").css({height:a-e-k-116});b.find(".netcontent-widget-list").css({height:a-e-l-12})});$("#btn-submit").click(function(){$("#frm_content").submit()});$("#frm_content").submit(function(){var a={content:$(this).find("#content").val(),containerType:$(this).find("#container_type").val(),containerName:$(this).find("#container_name").val(),
pageId:$(this).find("#page_id").val(),containerId:$(this).find("#container_id").val(),published:$("#published").prop("checked")?1:0,publishOn:$("#datepicker").val(),secureToken:$(this).find(".secureToken").val()};$.ajax({url:$(this).attr("action"),type:"post",dataType:"json",data:a,beforeSend:showSpinner(),success:function(){localStorage.removeItem(generateStorageKey());top.location.reload()},error:function(a){showMessage(a.responseText,!0)}});return!1});$("#nolink").change(function(){$(this).is(":checked")?
$("#nolink").val(1):$("#nolink").val(0);$("#adminselectimgfolder").trigger("change")});$("#adminselectimgfolder").change(function(){var a=$(this).val(),c=$("#nolink").val();a&&0!=a&&$.ajax({url:$("#website_url").val()+"backend/backend_content/loadimages",type:"post",dataType:"json",data:{folderName:a,nolink:c},beforeSend:function(){},success:function(a){$("#images_small").find(".images-preview").replaceWith(a.small);$("#images_medium").find(".images-preview").replaceWith(a.medium);$("#images_large").find(".images-preview").replaceWith(a.large);
$("#images_original").find(".images-preview").replaceWith(a.original)},error:function(){}})});$(document).on("click","#files",function(){var a=$("#list_files");$.ajax({url:$("#website_url").val()+"backend/backend_content/loadfiles",type:"post",dataType:"json",data:{folder:$("#adminselectimgfolder").val()},success:function(b){a.html(b.html)},error:function(){a.html("Unable to load files list")}})});$("#widgets").click(function(){var a=$("#widgets_maker");a.html().length||$.ajax({url:$("#website_url").val()+
"backend/backend_content/loadwidgetmaker",type:"post",dataType:"json",success:function(b){a.html(b.responseText)},error:function(){a.html('<h4 style="text-align: center;">Unable to load widget maker.</h4>')}})});var a=localStorage.getItem(generateStorageKey()),c=$(this).find("#content").val();null!==a&&a!=c&&showConfirm("We have found content that has not been saved! Restore?",function(){tinymce.activeEditor.setContent(a);$("#content").val(a)},function(){localStorage.removeItem(generateStorageKey())},
"success")});function dispatchEditorKeyup(a,c,b){var d=b;null===d&&(d=setTimeout(function(){localStorage.setItem(generateStorageKey(),tinymce.activeEditor.getContent());d=null},1E3))}function insertFileLink(a){tinymce.activeEditor.execCommand("mceInsertContent",!1,'<a href="'+$("#website_url").val()+"media/"+$("#adminselectimgfolder").val()+"/"+a+'" title="'+a+'">'+a+"</a>")};
